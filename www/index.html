<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Hello wasm-pack!</title>
  </head>
  <body>
    <canvas id="canvas-1" class="wgpu-canvas" width="400px" height="300px" data-vert="" data-frag="
    fn plot(st: vec2<f32>) -> f32 {
      return smoothstep(0.02, 0.0, abs(st.y - st.x));
    }
    
    @fragment
    fn fs_main(in: VertexOutput) -> @location(0) vec4<f32> {
      let st = in.clip_position.xy / f32(_canvas.resolution.x);
    
      let y = f32(st.x);
    
      var color = vec3<f32>(y);
    
      let pct = plot(st);
      color = (1.0 - pct) * color + pct * vec3<f32>(0.0, 1.0, 0.0);
      
      return vec4<f32>(color.xyz, 1.0);
    }" data-vertices=""></canvas>
    <canvas class="wgpu-canvas" width="400px" height="300px" data-vert="" data-frag=""></canvas>
    <noscript>This page contains webassembly and javascript content, please enable javascript in your browser.</noscript>
    <script src="./bootstrap.js"></script>
    <textarea id="textarea-1">fn plot(st: vec2<f32>) -> f32 {
  return smoothstep(0.02, 0.0, abs(st.y - st.x));
}

@fragment
fn fs_main(in: VertexOutput) -> @location(0) vec4<f32> {
  let st = in.clip_position.xy / f32(_canvas.resolution.x);

  let y = f32(st.x);

  var color = vec3<f32>(y);

  let pct = plot(st);
  color = (1.0 - pct) * color + pct * vec3<f32>(0.0, 1.0, 0.0);
  
  return vec4<f32>(color.xyz, 1.0);
}</textarea>
    <button type="button" id="submit">submit</button>
</html>
